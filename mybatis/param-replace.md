## Mybatis中 "#{}" 与 "${}" 的区别

### 关于 "#{}"

1. "#{}" 表示一个占位符号 相当于 jdbc中的 ? 符号 #{} 实现的是向 prepareStatement 中的预处理语句中设置参数值，
sql语句中 #{} 表示一个占位符即 "?"。

2. "#{}" 将传入的数据都当成一个字符串，会对自动传入的数据加一个双引号。
如：select * from user where id= #{user_id}，如果传入的值是11,那么解析成 sql 时的值为 where id="11"

3. 如果sql语句中只有一个参数,此时参数名称可以随意定义 如果sql语句有多个参数，
此时参数名称应该是与当前表关联的字段名一致，不能随便写，必须对应！

### 关于 "${}"

1. 直接进行字符串替换

2. $ {value}中value值有限制只能写对应的value值不能随便写，因为${}不会自动进行jdbc类型转换

3. 简单来说,在JDBC不支持使用占位符的地方,都可以使用${}

### Mybatis中 "#{}" 与 "${}" 的区别

1. "#{}" 方式能够很大程度防止sql注入(安全)，"${}" 方式无法防止Sql注入

2. 在JDBC能使用占位符的地方,最好优先使用 "#{}"

3. 在JDBC不支持使用占位符的地方,就只能使用 "${}" ，典型情况就是 动态参数

比如 有两张表,分别是emp_2017 和 emp_2018 .如果需要在查询语句中 动态指定表名,就只能使用 "${}"：
```xml
<select>
      select *  from emp_ ${year}
</select>
```

再比如MyBatis 排序时使用order by 动态参数时,此时也只能使用"${}"：
```xml
<select>
       select  *  from dept order by ${name}
</select>
```